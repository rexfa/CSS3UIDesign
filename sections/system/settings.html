<template class="task-template">
  <section id="settings-section" class="section js-section u-category-system">
    <header class="section-header">
      <div class="section-wrapper">
        <h1>
          <svg class="section-icon">
            <use xlink:href="assets/img/icons.svg#icon-system"></use>
          </svg>
          系统设置
        </h1>
        <h3>如无必要请勿随意改变系统设置</h3>
      </div>
    </header>
    <div class="workspace">
      <div id="appsyssetPanel" class="appsyssettings-workspace-wrapper">

        <div class="appsyssettingspanel">
          <div class="appsyssettingsline">
            <div class="appsyssettingtitle">自动检索任务目录:</div>
            <div class="appsyssettingsswitch">
              <input class="appsyssettings-checkbox" id="autoloadjobs-switch" type="checkbox" checked>
              <label class="appsyssettings-label" for="autoloadjobs-switch">
                <span class="appsyssettings-inner" data-on="ON" data-off="OFF"></span>
                <span class="appsyssettings-switch"></span>
              </label>
            </div>
          </div>
          <div class="appsyssettingsline">
            <div class="appsyssettingtitle">同时可进行任务:</div>
            <div class="appsyssettingsswitch">
              <input class="appsyssettings-number" id="task-number" type="number" value="2" min="1" max="10">
            </div>
          </div>
          <div class="appsyssettingsline">
            <div class="appsyssettingtitle">最少保存结果数量:</div>
            <div class="appsyssettingsswitch">
              <input class="appsyssettings-number" id="saveresult-number" type="number" value="10" min="1" max="20">
            </div>
          </div>
          <div class="appsyssettingsline">
            <div class="appsyssettingtitle">保护系统资源:</div>
            <div class="appsyssettingsswitch">
              <input class="appsyssettings-checkbox" id="savesysresource-switch" type="checkbox" checked>
              <label class="appsyssettings-label" for="savesysresource-switch">
                <span class="appsyssettings-inner" data-on="ON" data-off="OFF"></span>
                <span class="appsyssettings-switch"></span>
              </label>
            </div>
          </div>
          <div class="appsyssettingsline">
            <div class="appsyssettingtitle">自动维护存储空间:</div>
            <div class="appsyssettingsswitch">
              <input class="appsyssettings-checkbox" id="savedriver-switch" type="checkbox">
              <label class="appsyssettings-label" for="savedriver-switch">
                <span class="appsyssettings-inner" data-on="ON" data-off="OFF"></span>
                <span class="appsyssettings-switch"></span>
              </label>
            </div>
          </div>
          <div class="appsyssettingsline">
            <div class="appsyssettingtitle">核心算法位置:</div>
            <div class="appsyssettingsinput">
              <input id="corealgorithmurl" type="url" value="./core/dofinder.sh" />
            </div>
          </div>
          <div class="appsyssettingsline">
            <div class="appsyssettingtitle"></div>
            <div class="appsyssettingssave">
              <div style="width: 200px;"><button class="appsyssettingssave-button"
                  id="save-appsyssettingssave">保存设置</button></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script type="text/javascript">
      const settings = require('electron-settings');
      //https://github.com/nathanbuchar/electron-settings/wiki/FAQs
      var corealgorithmurlValue = settings.get('corealgorithmurl')
      if (corealgorithmurlValue) {
        const corealgorithmurl = document.getElementById('corealgorithmurl');
        corealgorithmurl.value = corealgorithmurlValue;
      } else {

      }
      var appsyssettingssaveBtn = document.getElementById('save-appsyssettingssave');
      appsyssettingssaveBtn.addEventListener('click', (event) => {

        var corealgorithmurl = document.getElementById('corealgorithmurl');
        settings.set('corealgorithmurl', corealgorithmurl.value)
      });
    </script>

  </section>
</template>
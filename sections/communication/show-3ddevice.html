<template class="task-template">
  <section id="show-3ddevice-section" class="section js-section u-category-show-3ddevice">
    <header class="section-header">
      <div class="section-wrapper">
        <h1>
          <svg class="section-icon">
            <use xlink:href="assets/img/icons.svg#icon-windows"></use>
          </svg>
          设备展示
        </h1>
        <h3>简单说明设备接口</h3>
      </div>
      <style>
          .drawcanvas-workspace-wrapper{
              width: 400px;
              height: 320px;
          }
      </style>
    </header>
    <div class="workspace">
      <div class="drawcanvas-workspace-wrapper" id="drawcanvasdiv" >
        <!--
        <canvas id="device3d"></canvas>-->
      </div>
    </div>
<!--
    <script>
      //https://ithanmang.gitee.io/threejs/home/201808/20180829/01-load-gltf-file.html

      let scene, camera, renderer, controls, guiControls;
      let stats = initStats();
  
      /* 场景 */
      function initScene() {
  
          scene = new THREE.Scene();
  
      }
  
      /* 相机 */
      function initCamera() {
  
          camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 10000);
          camera.position.set(5, 0, 10);
          camera.lookAt(new THREE.Vector3(0, 0, 0));
  
      }
  
      /* 渲染器 */
      function initRender() {
          let cav = document.getElementById("drawcanvasdiv");
          var width = cav.style.width || cav.clientWidth || cav.offsetWidth || cav.scrollWidth;
          var height = cav.style.height || cav.clientHeight || cav.offsetHeight || cav.scrollHeight;
          renderer = new THREE.WebGLRenderer({antialias: true});
          renderer.setSize(width, height);
          renderer.setClearColor(0xFF8C00);
          
          //document.body.appendChild(renderer.domElement);
          cav.appendChild(renderer.domElement);
      }
  
      /* 灯光 */
      function initLight() {
  
          scene.add(new THREE.AmbientLight(0xffffff));
  
      }
  
      /* 控制器 */
      function initControls() {
  
          controls = new THREE.OrbitControls(camera, renderer.domElement);
  
          /* 属性参数默认 */
  
      }
  
      /* 调试插件 */
      function initGui() {
  
          guiControls = new function () {
  
          };
  
          let controls = new dat.GUI({width: 200});
  
      }
  
      /* 场景中的内容 */
      function initContent() {
  
          // 加载 glTF 格式的模型
          let loader = new THREE.GLTFLoader();/*实例化加载器*/
  
          loader.load('./assets/3dmodel/sketch_raw.gltf',function (obj) {
  
              console.log(obj);
              obj.scene.position.y = 1;
              scene.add(obj.scene);
              document.getElementById('loading').style.display = 'none';
  
          },function (xhr) {
  
              console.log( ( xhr.loaded / xhr.total * 100 ) + '% loaded' );
  
          },function (error) {
  
              console.log('load error!'+error.getWebGLErrorMessage());
  
          })
  
      }
  
      /* 性能插件 */
      function initStats() {
  
          let stats = new Stats();
  
          document.body.appendChild(stats.domElement);
  
          return stats;
  
      }
  
      /* 窗口变动触发 */
      function onWindowResize() {
  
          camera.aspect = window.innerWidth / window.innerHeight;
          camera.updateProjectionMatrix();
          renderer.setSize(window.innerWidth, window.innerHeight);
  
      }
  
      /* 数据更新 */
      function update() {
  
          stats.update();
  
      }
  
      /* 初始化 */
      function init() {
  
          initScene();
          initCamera();
          initRender();
          initLight();
          initControls();
          initContent();
          initGui();
  
          /* 监听事件 */
          window.addEventListener('resize', onWindowResize, false);
  
      }
  
      /* 循环渲染 */
      function animate() {
  
          requestAnimationFrame(animate);
          renderer.render(scene, camera);
          update();
  
      }
  
      /* 初始加载 */
      (function () {
          console.log("three init start...");
  
          init();
          animate();
  
          console.log("three init send...");
      })();

      </script>
    -->
  </section>
</template>